## 根目录

- **vue.config.js**：本地开发代理配置。把前端的 `/api` 转发到后端 `http://127.0.0.1:8000`，把 `/ws` 转发成 WebSocket，这样你前端代码里不用写后端真实地址。

------

## src 入口层

- **main.js**：Vue 应用入口。创建 app、挂载 Pinia（状态管理）、挂载路由、引入全局样式。
- **App.vue**：顶层壳组件。这里不放业务，只负责渲染当前路由页面（`<router-view/>`）。

------

## src/router

- **router/index.js**：路由表。定义 `/` 到 Dashboard，`/replay/:storyId` 到 Replay（回放页）。

------

## src/styles

- **styles/index.scss**：全局样式（暗色背景、卡片风格、滚动条、字体等），保证整体“酷炫仪表盘”风格统一。

------

## src/api（和后端交互）

- **api/http.js**：axios 的统一封装（baseURL、超时、响应拦截），后面所有接口都从这里走。
- **api/story.js**：把具体 REST 接口封装成函数（createStory / continueStory / getStory / compareStory），页面调用更干净。
- **api/ws.js**：WebSocket 封装。负责建立连接、收消息并转成 JSON 回调给页面，用于“实时加点”。

------

## src/store（状态管理）

- **store/storyStore.js**：Pinia 的 store。统一保存 `storyId`、`turns`、loading/error、以及回放状态（进度/速度）。同时提供图表用的 getters（labels、flowSeries、entropySeries）。

------

## src/components/layout（布局）

- **components/layout/AppShell.vue**：整体页面布局框架：顶部栏 + 左右分栏。Dashboard 和 Replay 都复用它，保证界面一致、显得工程化。

------

## src/components/chat（左侧叙事区）

- **components/chat/ChatPanel.vue**：左侧整块“控制台”。包括输入框、rounds/mode/streaming 开关、发送按钮、清空按钮，并把消息列表组件放进来。
- **components/chat/MessageList.vue**：只负责渲染消息列表（Human/AI 气泡、turn 编号、flow/entropy 两个分数），并自动滚动到底部。

------

## src/components/charts（右侧可视化）

- **components/charts/FlowLineChart.vue**：心电图折线（Semantic Flow 曲线）。输入 labels + series，输出折线图。
- **components/charts/EntropyGauge.vue**：仪表盘（Creative Entropy）。输入一个 value（0~1），展示成百分比仪表盘。
- **components/charts/SemanticSpaceChart.vue**：语义空间地图。基于 PCA 降维坐标 (x, y)，展示故事在语义空间中的轨迹。
- **components/charts/CompareScatter.vue**：(分析用) 散点对比图。用于展示群体实验数据的分布情况。

------

## src/components/common（通用小组件）

- **components/common/StatCard.vue**：通用统计卡片组件（标题/数值/副标题）。目前项目里预留，方便你以后在 Dashboard 顶部加各种指标卡（会更像“研究平台”）。

------

## src/pages（页面级）

- **pages/StoryDashboard.vue**：(原 Dashboard) 实时创作页面。用于人机接龙交互，展示 Flow/Entropy 实时变化。
- **pages/AnalysisDashboard.vue**：全量分析页面。用于加载 `data/` 下的所有实验数据，展示大规模对比分析图表。
- **pages/StoryReplay.vue**：回放页面。拉取某个 story 的历史 turns，然后按速度逐条播放，让图表同步增长。